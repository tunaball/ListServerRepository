<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [X-Unix] Setting up an SFTP server?  Or possibly an SSH option?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:x-unix%40listserver.themacintoshguy.com?Subject=%5BX-Unix%5D%20Setting%20up%20an%20SFTP%20server%3F%20%20Or%20possibly%20an%20SSH%20option%3F&In-Reply-To=96756057-72A0-4D2A-BCBF-679BDD5813A2%40inductionconcepts.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002340.html">
   <LINK REL="Next"  HREF="002346.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">

<!--GoogleAdsAutomaticSizeSTART-->
<p align=CENTER>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- Automatic Size -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-1785703837751368"
     data-ad-slot="4468313549"
     data-ad-format="auto"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</p>
<!--GoogleAdsAutomaticSizeEND-->

   <H1>[X-Unix] Setting up an SFTP server?  Or possibly an SSH option?</H1>
    <B>Sharninder</B> 
    <A HREF="mailto:x-unix%40listserver.themacintoshguy.com?Subject=%5BX-Unix%5D%20Setting%20up%20an%20SFTP%20server%3F%20%20Or%20possibly%20an%20SSH%20option%3F&In-Reply-To=96756057-72A0-4D2A-BCBF-679BDD5813A2%40inductionconcepts.com"
       TITLE="[X-Unix] Setting up an SFTP server?  Or possibly an SSH option?">sharninder_khera at symantec.com
       </A><BR>
    <I>Mon Aug 29 22:20:27 PDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="002340.html">[X-Unix] Setting up an SFTP server?  Or possibly an SSH option?
</A></li>
        <LI>Next message: <A HREF="002346.html">[X-Unix] Setting up an SFTP server?  Or possibly an SSH option?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2341">[ date ]</a>
              <a href="thread.html#2341">[ thread ]</a>
              <a href="subject.html#2341">[ subject ]</a>
              <a href="author.html#2341">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Tue, 2005-08-30 at 00:02 -0500, Rad Craig wrote:
&gt;<i> On Aug 30, 2005, at 12:00 AM, Sharninder wrote:
</I>&gt;<i> 
</I>&gt;<i> &gt; On Mon, 2005-08-29 at 23:10 -0500, Rad Craig wrote:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;&gt; I am trying to setup an SFTP server to download copies of our website
</I>&gt;<i> &gt;&gt; backups.  We make a full backup once a week, just over 2GB right now.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; My webhost builds the backup archive and will send it to a remote  
</I>&gt;<i> &gt;&gt; FTP/
</I>&gt;<i> &gt;&gt; SFTP server.  I need to do this because when I make a backup, it
</I>&gt;<i> &gt;&gt; nearly pushes me over our quota on the website and makes my mail
</I>&gt;<i> &gt;&gt; server act up.  I have to use SFTP because of the 2GB limit of FTP.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; I would also be open to using SSH and some form of secure copy.  I
</I>&gt;<i> &gt;&gt; know very little about UNIX, so I'm looking for some help.  It
</I>&gt;<i> &gt;&gt; doesn't have to be completely automated, but that would be very nice,
</I>&gt;<i> &gt;&gt; to write a script.  I have SSH access to my web host.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I'm not sure if I understand your problem correctly, but you can  
</I>&gt;<i> &gt; set up
</I>&gt;<i> &gt; a cron job on your webhost to scp the backup file (I'm assuming  
</I>&gt;<i> &gt; that its
</I>&gt;<i> &gt; just a tar.gz file) to your OSX box:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; man crontab;crontab -e
</I>&gt;<i> 
</I>&gt;<i> Yes, its a tar.gz file.  I'm just looking for a solution to get the  
</I>&gt;<i> backup file from my webhost to my local OSX machine, just for  
</I>&gt;<i> safety.  I keep 6 weeks worth.  I don't really care if its via SCP or  
</I>&gt;<i> SFTP, I just want something that works.  SCP would probably be  
</I>&gt;<i> better.  Wouldn't it copy it as the archive is created, so that it  
</I>&gt;<i> doesn't have to build the entire 2GB archive before it starts to copy?
</I>&gt;<i> 
</I>
I don't think it would be possible to copy the archive as its created,
not without some fancy scripting, which both of us might not want to get
into ;)

&gt;<i> I'll lookup the crontab stuff.
</I>&gt;<i> 
</I>&gt;<i> &gt;
</I>
Yes. cron is what you need for your job. Just set a cron job a few
minutes/hourse after the webhost starts its backup.

&gt;<i> &gt;
</I>&gt;<i> &gt; And use a variant of the below command to tranfer the files to your  
</I>&gt;<i> &gt; OSX
</I>&gt;<i> &gt; box:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; scp backup.tar.gz <A HREF="../../../mailman/listinfo/x-unix.html">user at osxbox</A>:/backups
</I>&gt;<i> 
</I>&gt;<i> I think I understand that.
</I>&gt;<i> 
</I>&gt;<i> scp is the command, backup.tar.gz is the backup file, then <A HREF="../../../mailman/listinfo/x-unix.html">user at host</A>  
</I>&gt;<i> (my local machine)/local directory.
</I>&gt;<i> 
</I>
Yes. Brilliant :)

&gt;<i> &gt;
</I>&gt;<i> &gt; You'll have to keep ssh running on your OSX box, though. You can  
</I>&gt;<i> &gt; find it
</I>&gt;<i> &gt; under system preferences-&gt;sharing
</I>&gt;<i> 
</I>&gt;<i> Or I could turn it off and on depending on when I copy this backup  
</I>&gt;<i> file.  It would be nice to setup a cron job on my OSX box to turn  
</I>&gt;<i> that off and on so that I don't have to leave it running all the time.
</I>&gt;<i> 
</I>
Yes you can run a cronjob on your OSX box also to start and stop ssh.
Basically, stop ssh from the system preferences and instead setup a cron
job to start ssh (sshd) and stop it after a few minutes. The problem is
that you will have to guess how much time the download of the backups
would take. Its much better to anyway have ssh running all the time. It
does'nt use too much resources.


&gt;<i> Thanks for the input.
</I>&gt;<i> 
</I>
My pleasure.

--
Sharninder


</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002340.html">[X-Unix] Setting up an SFTP server?  Or possibly an SSH option?
</A></li>
	<LI>Next message: <A HREF="002346.html">[X-Unix] Setting up an SFTP server?  Or possibly an SSH option?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2341">[ date ]</a>
              <a href="thread.html#2341">[ thread ]</a>
              <a href="subject.html#2341">[ subject ]</a>
              <a href="author.html#2341">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/x-unix.html">More information about the X-Unix
mailing list</a><br>
<hr />
<!--GoogleAdsAutomaticSizeSTART-->
<p align=CENTER>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- Automatic Size -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-1785703837751368"
     data-ad-slot="4468313549"
     data-ad-format="auto"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</p>
<!--GoogleAdsAutomaticSizeEND-->

</body></html>
