<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [X-Unix] Find if shutdown is in progress
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:x-unix%40listserver.themacintoshguy.com?Subject=Re%3A%20%5BX-Unix%5D%20Find%20if%20shutdown%20is%20in%20progress&In-Reply-To=%3CD59D7172-C01F-4994-B736-7077B33D5C30%40amclasstyler.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003428.html">
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
<!--GoogleAdsAutomaticSizeSTART-->
<p align=CENTER>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- Automatic Size -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-1785703837751368"
     data-ad-slot="4468313549"
     data-ad-format="auto"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</p>
<!--GoogleAdsAutomaticSizeEND-->
   <H1>[X-Unix] Find if shutdown is in progress</H1>
    <B>Charles Miles</B> 
    <A HREF="mailto:x-unix%40listserver.themacintoshguy.com?Subject=Re%3A%20%5BX-Unix%5D%20Find%20if%20shutdown%20is%20in%20progress&In-Reply-To=%3CD59D7172-C01F-4994-B736-7077B33D5C30%40amclasstyler.com%3E"
       TITLE="[X-Unix] Find if shutdown is in progress">cmiles at amclasstyler.com
       </A><BR>
    <I>Mon Mar 28 13:21:59 PDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="003428.html">[X-Unix] Find if shutdown is in progress
</A></li>
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3429">[ date ]</a>
              <a href="thread.html#3429">[ thread ]</a>
              <a href="subject.html#3429">[ subject ]</a>
              <a href="author.html#3429">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Jerry,

Your question intrigued me so I did a quick google search and found  
your thread on the darwin kernel list and the tidbit at the link  
below. Don't know if it will help, and suppose you may have already  
seen it:

<A HREF="http://stackoverflow.com/questions/1321219/receiving-power-notifications-especially-shutdown-on-mac-osx">http://stackoverflow.com/questions/1321219/receiving-power-notifications-especially-shutdown-on-mac-osx</A>

Hope this helps.

Charles Miles
Systems Administrator
American Classifieds of Tyler
903-597-2516 ext 225
903-597-8726 Fax
903-714-3652 Cell

<A HREF="../../../mailman/listinfo/x-unix.html">cmiles at amclasstyler.com</A>

On Mar 24, 2011, at 1:15 PM, Jerry Krinock wrote:

&gt;<i> No one seems to know the answer on Apple's Darwin developer forum.   
</I>&gt;<i> So I figured if anyone knows, it would be one of you guys.
</I>&gt;<i>
</I>&gt;<i> Short version:  Is there any command or other trick I can perform to  
</I>&gt;<i> find out if system shutdown is currently in progress?
</I>&gt;<i>
</I>&gt;<i> More detail:  I want to do this so I can prevent my command-line  
</I>&gt;<i> program from starting a long task which is triggered, sometimes,  
</I>&gt;<i> when other apps terminate.  There are a couple of API with which I  
</I>&gt;<i> can register for notifications (NSWorkspaceWillPowerOffNotification,  
</I>&gt;<i> IORegisterForSystemPower) and supposedly get a callback, but they  
</I>&gt;<i> don't work in this context.
</I>&gt;<i>
</I>&gt;<i> Thanks,
</I>&gt;<i>
</I>&gt;<i> Jerry Krinock
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> X-Unix mailing list
</I>&gt;<i> <A HREF="../../../mailman/listinfo/x-unix.html">X-Unix at listserver.themacintoshguy.com</A>
</I>&gt;<i> <A HREF="../../../mailman/listinfo/x-unix.html">http://listserver.themacintoshguy.com/mailman/listinfo/x-unix</A>
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003428.html">[X-Unix] Find if shutdown is in progress
</A></li>
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3429">[ date ]</a>
              <a href="thread.html#3429">[ thread ]</a>
              <a href="subject.html#3429">[ subject ]</a>
              <a href="author.html#3429">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/x-unix.html">More information about the X-Unix
mailing list</a><br>
<hr />
<!--GoogleAdsAutomaticSizeSTART-->
<p align=CENTER>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- Automatic Size -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-1785703837751368"
     data-ad-slot="4468313549"
     data-ad-format="auto"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</p>
<!--GoogleAdsAutomaticSizeEND-->

</body></html>
