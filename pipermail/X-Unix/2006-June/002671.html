<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [X-Unix] shell script - online or not?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:x-unix%40listserver.themacintoshguy.com?Subject=%5BX-Unix%5D%20shell%20script%20-%20online%20or%20not%3F&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   
   <LINK REL="Next"  HREF="002672.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">

<!--GoogleAdsAutomaticSizeSTART-->
<p align=CENTER>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- Automatic Size -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-1785703837751368"
     data-ad-slot="4468313549"
     data-ad-format="auto"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</p>
<!--GoogleAdsAutomaticSizeEND-->

   <H1>[X-Unix] shell script - online or not?</H1>
    <B>Charles Howse</B> 
    <A HREF="mailto:x-unix%40listserver.themacintoshguy.com?Subject=%5BX-Unix%5D%20shell%20script%20-%20online%20or%20not%3F&In-Reply-To="
       TITLE="[X-Unix] shell script - online or not?">chowse at charter.net
       </A><BR>
    <I>Fri Jun  2 08:55:02 PDT 2006</I>
    <P><UL>
        
        <LI>Next message: <A HREF="002672.html">[X-Unix] shell script - online or not?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2671">[ date ]</a>
              <a href="thread.html#2671">[ thread ]</a>
              <a href="subject.html#2671">[ subject ]</a>
              <a href="author.html#2671">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,
My cable modem has developed a habit of dropping the connection, and  
I want to document the dates and times that I am offline so I will  
have some leverage with tech support.
The following script checks the current state of the connection, and  
compares it to the last  line of the results file, but I'm not  
getting the results I expected.
When it runs, and I am offline, the terminal output is:

[<A HREF="../../../mailman/listinfo/x-unix.html">charles at larry</A>:~]$ bin/pings2.sh
5 packets transmitted, 0 packets received, 100% packet loss
5 packets transmitted, 5 packets received, 0% packet loss

As you can see, the strings are not equal, but the script is not  
writing to the file.
I have even commented the script to echo &quot;equal&quot; or &quot;different&quot;, no joy.

What might I be doing wrong?


#!/bin/bash
#
test= ping -c 5 24.159.64.20 | grep packets
look= tail -n 1 Desktop/ping_results.txt
if [ &quot;$test&quot; == &quot;$look&quot; ] ; then
	:
else
	echo &gt;&gt; Desktop/ping_results.txt
	date &gt;&gt; Desktop/ping_results.txt
	$test &gt;&gt; Desktop/ping_results.txt
	
fi

--
Thanks,
Charles
<A HREF="http://bubbabbq.homeunix.net">http://bubbabbq.homeunix.net</A>


</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	
	<LI>Next message: <A HREF="002672.html">[X-Unix] shell script - online or not?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2671">[ date ]</a>
              <a href="thread.html#2671">[ thread ]</a>
              <a href="subject.html#2671">[ subject ]</a>
              <a href="author.html#2671">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/x-unix.html">More information about the X-Unix
mailing list</a><br>
<hr />
<!--GoogleAdsAutomaticSizeSTART-->
<p align=CENTER>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- Automatic Size -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-1785703837751368"
     data-ad-slot="4468313549"
     data-ad-format="auto"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</p>
<!--GoogleAdsAutomaticSizeEND-->

</body></html>
